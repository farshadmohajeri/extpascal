CodePress=function(c){var d=document.createElement('iframe');d.textarea=c;d.textarea.disabled=true;d.textarea.style.overflow='hidden';d.style.height=d.textarea.clientHeight+'px';d.style.width=d.textarea.clientWidth+'px';d.textarea.style.overflow='auto';d.style.border='1px solid gray';d.frameBorder=0;d.style.visibility='hidden';d.style.position='absolute';d.options=d.textarea.className;d.initialize=function(){d.editor=d.contentWindow.CodePress;d.editor.body=d.contentWindow.document.getElementsByTagName('body')[0];d.editor.setCode(d.textarea.value);d.setOptions();d.editor.syntaxHighlight('init');d.textarea.style.display='none';d.style.position='static';d.style.visibility='visible';d.style.display='inline'}d.edit=function(a,b){if(a)d.textarea.value=document.getElementById(a)?document.getElementById(a).value:a;if(!d.textarea.disabled)return;d.language=b?b:d.getLanguage();d.src=CodePress.path+'codepress.html?language='+d.language+'&ts='+(new Date).getTime();if(d.attachEvent)d.attachEvent('onload',d.initialize);else d.addEventListener('load',d.initialize,false)}d.getLanguage=function(){for(language in CodePress.languages)if(d.options.match('\\b'+language+'\\b'))return CodePress.languages[language]?language:'generic'}d.setOptions=function(){if(d.options.match('autocomplete-off'))d.toggleAutoComplete();if(d.options.match('readonly-on'))d.toggleReadOnly();if(d.options.match('linenumbers-off'))d.toggleLineNumbers()}d.getCode=function(){return d.textarea.disabled?d.editor.getCode():d.textarea.value}d.setCode=function(a){d.textarea.disabled?d.editor.setCode(a):d.textarea.value=a}d.toggleAutoComplete=function(){d.editor.autocomplete=(d.editor.autocomplete)?false:true}d.toggleReadOnly=function(){d.textarea.readOnly=(d.textarea.readOnly)?false:true;if(d.style.display!='none')d.editor.readOnly(d.textarea.readOnly?true:false)}d.toggleLineNumbers=function(){var a=d.editor.body.className;d.editor.body.className=(a==''||a=='show-line-numbers')?'hide-line-numbers':'show-line-numbers'}d.toggleEditor=function(){if(d.textarea.disabled){d.textarea.value=d.getCode();d.textarea.disabled=false;d.style.display='none';d.textarea.style.display='inline'}else{d.textarea.disabled=true;d.setCode(d.textarea.value);d.editor.syntaxHighlight('init');d.style.display='inline';d.textarea.style.display='none'}}d.edit();return d}CodePress.languages={csharp:'C#',css:'CSS',generic:'Generic',html:'HTML',java:'Java',javascript:'JavaScript',perl:'Perl',ruby:'Ruby',php:'PHP',text:'Text',sql:'SQL',vbscript:'VBScript',pascal:'Pascal'}CodePress.run=function(){s=document.getElementsByTagName('script');for(var i=0,n=s.length;i<n;i++){if(s[i].src.match('codepress.js')){CodePress.path=s[i].src.replace('codepress.js','')}}t=document.getElementsByTagName('textarea');for(var i=0,n=t.length;i<n;i++){if(t[i].className.match('codepress')){id=t[i].id;t[i].id=id+'_cp';eval(id+' = new CodePress(t[i])');t[i].parentNode.insertBefore(eval(id),t[i])}}}if(window.attachEvent)window.attachEvent('onload',CodePress.run);else window.addEventListener('DOMContentLoaded',CodePress.run,false);