#labels Featured
= Introduction =

ExtPascal is an ExtJS wrapper/binding. ExtPascal lets you use the ExtJS from Object Pascal commands issued by the server. That brings the structure and strict syntax of the Object Pascal for programming the web browser. 

The main advantages are:

 * Use your preferred language (in this case Object Pascal) and where you are more productive instead of using JavaScript, PHP, HTML and/or CSS.
 * Use of native and compiled code with a strongly typed language. That is, many errors are directly appointed by the compiler, without waste time testing in the browser.
 * Use of Code Completion (Intellisense), available in moderns IDEs (Delphi/Lazarus) more productivity in the coding.
 * Centering the programming on the server, where JavaScript and HTML is generated dynamically, makes development easier and less dispersed.
 * The business rules can be encapsulated in the server, in Object Pascal, instead of being visible in JavaScript.
 * Direct and easy debugging using Delphi/Lazarus/MSEide/FPIDE debugger.

= Prerequisites =

 * One Windows, Linux, MacOS X or FreeBSD machine. It was tested using Intel/AMD 32 bits and PowerPC, but should work with other processors supported by FreePascal.
 * A web browser: IE 6+, Firefox 1.5+, Chrome 2+, Safari 3+, Opera 9+ or compatibles. JavaScript and Cookies should be enabled.
 * Download and install [http://httpd.apache.org/download.cgi Apache 2.2] or later, but Apache 1.3 and IIS works using CGIGateway included in ExtPascal package, see below.
 * For native FastCGI operation download and install [http://www.fastcgi.com FastCGI for   Apache 2.2]. See details below. For setting FastCGI thru CGIGateway on Apache or IIS see details below too.
 * Download [http://extjs.com/products/extjs/download.php ExtJS 2.2.1].
 * Install ExtJS below Apache's Document Root (usually htdocs) at folder *ext*
 * For Windows install Delphi (7, [http://www.turboexplorer.com/downloads Turbo (this version is free)], 2006, 2007 or 2009) or FreePascal 2.2.4+ with Lazarus 0.9.26+ or [http://sourceforge.net/projects/mseide-msegui MSEide 2.0+]. I used [http://www.turboexplorer.com Turbo Delphi], FreePascal 2.2.4 and MSEide 2.0.
 * For Posix systems (Linux, MacOS X, BSDs, Solaris, etc.) install FreePascal 2.2.4+ with Lazarus 0.9.26+ or MSEide 2.0+. I used FreePascal 2.2.4 and MSEide 2.0.
 * Download and unzip ExtPascal package (ExtPascal-X.X.zip see [http://code.google.com/p/extpascal/downloads/list Feature Downloads]) to a working directory, for example: C:\ExtPascal.
 * Copy *codepress* folder, which is in ExtPascal package, underneath the *ext* folder. 

= First Steps =
01. Open ExtToPascal.dpr source using your favorite ObjectPascal IDE.

02. For Delphi set these Syntax options (menu \Project\Options\Compiler):
{{{
OFF Strict var-strings
OFF Complete boolean eval
ON Extended syntax 
OFF Typed @ operator
ON Open parameters
ON Huge strings/Long strings by default 
ON Assignable typed constants
}}}

03. For FreePascal, Lazarus or MSEide use _*`-Smdcghie50 -venwi -l`*_  as compiler options. Append these options _*`-O2pPENTIUM4 -CXpPENTIUM4 -XXsi -CfSSE`*_  to release/final version.

04. Compile and run it informing the path of the ExtJS documentation, the HTML files, as parameter. Use quotes if path contain whitespaces. For example:
{{{
ExtToPascal C:\Ext\docs\output 
ExtToPascal "C:\Documents and Settings\My Documents\RAD Studio\Projects\ExtPascal\ExtJS\ext-3\docs\output"
}}}
05. ExtToPascal will generate a Pascal Unit for each JavaScript Package. A total of 14 units in version 2.2.1 of ExtJS.

06. Compile ExtPascalSamples as example.

= Setting up for FastCGI thru CGI gateway (any Apache version and similar procedure on IIS) =
01. Open CGIGateway.dpr.

02. Modify Port constant if necessary, default 2014.

03. Compile.

04. Copy CGIGateway.exe to cgi-bin directory.

05. Open your FastCGI application (by example ExtPascalSamples.dpr).

06. Modify Port optional parameter if necessary, default 2014. Near the bottom line of 
the program, which states:

{{{
Application := TFCGIApplication.Create('ExtPascal Samples ' + ExtPascalVersion, TSamples, 2014, 5);
}}}

07. Compile.

08. Copy your FastCGI application to cgi-bin directory. Use `.fcgi` extension for Posix (non-Windows) platforms.

09. Rename CGIGateway.exe to the same name of your FastCGI application changing the extension to .cgi or anything extension supported by your Web Server as CGI application.

10. To play the Samples, by example, you will have this files at cgi-bin:

{{{
ExtPascalSamples.exe // The real FastCGI application. The extension is `.fcgi` for Posix platforms.
ExtPascalSamples.cgi // The CGI Gateway.
}}}

11. None configuration is necessary on Apache, _*but I recommend to activate the HTTP compression to boost the performance (on IIS too)*_.

12. In your browser call Samples using:

{{{
http://localhost/cgi-bin/ExtPascalSamples.cgi
}}}

13. ExtPascalSamples.cgi (the gateway) will start automatically ExtPascalSamples.exe (the real FastCGI application). 

= Setting up for native FastCGI, only for Apache 2.2+ =
01. Download FastCGI module at: http://www.fastcgi.com/dist/mod_fastcgi-2.4.6-AP22.dll

02. Rename to `mod_fastcgi.so` 

03. Copy to Apache's *modules* folder (by example c:\apache\modules)

04. In httpd.conf file (Apache's *conf* folder) in LoadModule session insert the line below:

{{{
LoadModule fastcgi_module modules/mod_fastcgi.so
}}}

05. Declare the FastCGI application as external server, appending this line in httpd.conf:

{{{
fastcgiexternalserver cgi-bin/ExtPascalSamples –host localhost:2014 –idle-timeout 3
}}} 

*CAUTION: Don't cut and paste lines from this wiki! This will cause Apache fails to start!!! The hifen character is not the same character (Google wiki uses the char 150 and the true hifen char is 45).* 

06. `cgi-bin/ExtPascalSamples` is the URL that you will use to invoke the ExtPascal application by browser. Is not necessary copy the executable to cgi-bin folder. This URL is case-sensitive.

07. `–host` parameter declare the server where is hosted the FastCGI application (by example localhost).

08. The default TCP/IP port is 2014, but another could be declared, if you to recompile the application changing the port in source code.

09. Start manually your FastCGI application, via console for example. Your executable can be anywhere in the HD. It will works as a service or a daemon for the Web Server, receiving requests by the TCP port. To debugging set a breakpoint in your application and start it by the IDE.

10. In your browser call Samples using:

{{{
http://localhost/cgi-bin/ExtPascalSamples
}}}

11. See [http://www.fastcgi.com/mod_fastcgi/docs/mod_fastcgi.html#FastCgiExternalServer FastCGI docs] for more info.

12. I also recommend to activate the HTTP compression to boost the performance. See [http://extpascal.googlecode.com/files/ExtPascal-Advanced-Configuration-complete-eng-v4.pdf Advanced configuration].